(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[696],{2123:function(e,a,r){Promise.resolve().then(r.bind(r,271))},271:function(e,a,r){"use strict";var t=r(7437),s=r(3464),l=r(7571),n=r(2869),i=r(7413),o=r(6512),c=r(1229),d=r(9501),u=r(3590),h=r(2265),x=r(8642),j=r(5186),m=r(9064),f=r(9376),g=r(6303),p=r(8360),v=r(3647);let y=c.Ry({name:c.Z_().min(1),billboardId:c.Z_().min(1)});a.default=e=>{let{initialData:a,billboards:r}=e,[c,b]=(0,h.useState)(!1),[C,w]=(0,h.useState)(!1),N=(0,f.useParams)(),Z=(0,f.useRouter)();(0,p.N)(),console.log(N);let I=a?"Edit Category":"New Category",k=a?"Edit a Category":"Add a new Category",S=a?"Save Changes":"Create",V=(0,d.cI)({resolver:(0,u.F)(y),defaultValues:a||{name:"",billboardId:""}});console.log("hello",a," ",r);let _=async e=>{try{w(!0),a?await s.Z.patch("/api/".concat(N.storeId,"/categories/").concat(N.CategoryId),e):await s.Z.post("/api/".concat(N.storeId,"/categories"),e),Z.refresh(),m.ZP.success("Store update")}catch(e){m.ZP.error("Something went wrong")}finally{w(!1)}},z=async()=>{try{w(!0),await s.Z.delete("/api/".concat(N.storeId,"/categories/").concat(N.CategoryId)),Z.refresh(),Z.push("/".concat(N.storeId,"/categories")),m.ZP.success("Category deleted")}catch(e){m.ZP.error("Make sure you removed all categories using this Category first")}finally{w(!1),b(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.V,{isOpen:c,onClose:()=>b(!1),onConfirm:z,loading:C}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(l.Z,{title:I,description:k}),a&&(0,t.jsx)(n.z,{disabled:C,variant:"destructive",size:"sm",onClick:()=>b(!0),children:(0,t.jsx)(i.Z,{className:"h-4 w-4"})})]}),(0,t.jsx)(o.Z,{}),(0,t.jsx)(x.l0,{...V,children:(0,t.jsxs)("form",{onSubmit:V.handleSubmit(_),className:"space-y-8 w-full",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-8",children:[(0,t.jsx)(x.Wi,{control:V.control,name:"name",render:e=>{let{field:a}=e;return(0,t.jsxs)(x.xJ,{children:[(0,t.jsx)(x.lX,{children:"Name"}),(0,t.jsx)(x.NI,{children:(0,t.jsx)(j.I,{disabled:C,placeholder:"Category Name",...a})}),(0,t.jsx)(x.zG,{})]})}}),(0,t.jsx)(x.Wi,{control:V.control,name:"billboardId",render:e=>{let{field:a}=e;return(0,t.jsxs)(x.xJ,{children:[(0,t.jsx)(x.lX,{children:"Billboard"}),(0,t.jsxs)(v.Ph,{disabled:C,onValueChange:a.onChange,value:a.value,defaultValue:a.value,children:[(0,t.jsx)(x.NI,{children:(0,t.jsx)(v.i4,{children:(0,t.jsx)(v.ki,{defaultValue:a.value,placeholder:"Select a billboard"})})}),(0,t.jsx)(v.Bw,{children:r.map(e=>(0,t.jsx)(v.Ql,{value:e.id,children:e.label},e.id))})]}),(0,t.jsx)(x.zG,{})]})}})]}),(0,t.jsx)(n.z,{disabled:C,className:"ml-auto",children:S})]})}),(0,t.jsx)(o.Z,{})]})}},7413:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(9205).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},5156:function(e,a,r){"use strict";r.d(a,{f:function(){return c}});var t=r(2265),s=r(6840),l=r(7437),n="horizontal",i=["horizontal","vertical"],o=t.forwardRef((e,a)=>{let{decorative:r,orientation:t=n,...o}=e,c=i.includes(t)?t:n;return(0,l.jsx)(s.WV.div,{"data-orientation":c,...r?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...o,ref:a})});o.displayName="Separator";var c=o}},function(e){e.O(0,[310,676,707,516,668,911,732,971,117,744],function(){return e(e.s=2123)}),_N_E=e.O()}]);