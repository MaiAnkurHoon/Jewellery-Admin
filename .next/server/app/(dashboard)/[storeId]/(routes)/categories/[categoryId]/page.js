(()=>{var e={};e.id=696,e.ids=[696],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},49696:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>n}),t(54844),t(19076),t(90996),t(10260);var s=t(30170),a=t(45002),i=t(83876),o=t.n(i),d=t(66299),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(r,l);let n=["",{children:["(dashboard)",{children:["[storeId]",{children:["(routes)",{children:["categories",{children:["[categoryId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,54844)),"/Users/manishkumarsharma/Documents/projects/jewellery/admin/app/(dashboard)/[storeId]/(routes)/categories/[categoryId]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,19076)),"/Users/manishkumarsharma/Documents/projects/jewellery/admin/app/(dashboard)/[storeId]/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,10260)),"/Users/manishkumarsharma/Documents/projects/jewellery/admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/manishkumarsharma/Documents/projects/jewellery/admin/app/(dashboard)/[storeId]/(routes)/categories/[categoryId]/page.tsx"],u="/(dashboard)/[storeId]/(routes)/categories/[categoryId]/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/[storeId]/(routes)/categories/[categoryId]/page",pathname:"/[storeId]/categories/[categoryId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},85776:(e,r,t)=>{Promise.resolve().then(t.bind(t,95030))},95030:(e,r,t)=>{"use strict";t.d(r,{default:()=>w});var s=t(97247),a=t(10863),i=t(75030),o=t(58053),d=t(7082),l=t(33626),n=t(47751),c=t(2704),u=t(34631),p=t(28964),m=t(13846),h=t(70170),x=t(72411),f=t(34178),y=t(72994),g=t(83051),j=t(94049);let b=n.Ry({name:n.Z_().min(1),billboardId:n.Z_().min(1)}),w=({initialData:e,billboards:r})=>{let[t,n]=(0,p.useState)(!1),[w,v]=(0,p.useState)(!1),N=(0,f.useParams)(),I=(0,f.useRouter)();(0,g.N)(),console.log(N);let P=e?"Edit Category":"New Category",_=e?"Edit a Category":"Add a new Category",q=e?"Save Changes":"Create",C=(0,c.cI)({resolver:(0,u.F)(b),defaultValues:e||{name:"",billboardId:""}});console.log("hello",e," ",r);let k=async r=>{try{v(!0),e?await a.Z.patch(`/api/${N.storeId}/categories/${N.CategoryId}`,r):await a.Z.post(`/api/${N.storeId}/categories`,r),I.refresh(),x.ZP.success("Store update")}catch(e){x.ZP.error("Something went wrong")}finally{v(!1)}},Z=async()=>{try{v(!0),await a.Z.delete(`/api/${N.storeId}/categories/${N.CategoryId}`),I.refresh(),I.push(`/${N.storeId}/categories`),x.ZP.success("Category deleted")}catch(e){x.ZP.error("Make sure you removed all categories using this Category first")}finally{v(!1),n(!1)}};return(0,s.jsxs)(s.Fragment,{children:[s.jsx(y.V,{isOpen:t,onClose:()=>n(!1),onConfirm:Z,loading:w}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(i.Z,{title:P,description:_}),e&&s.jsx(o.z,{disabled:w,variant:"destructive",size:"sm",onClick:()=>n(!0),children:s.jsx(d.Z,{className:"h-4 w-4"})})]}),s.jsx(l.Z,{}),s.jsx(m.l0,{...C,children:(0,s.jsxs)("form",{onSubmit:C.handleSubmit(k),className:"space-y-8 w-full",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-8",children:[s.jsx(m.Wi,{control:C.control,name:"name",render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[s.jsx(m.lX,{children:"Name"}),s.jsx(m.NI,{children:s.jsx(h.I,{disabled:w,placeholder:"Category Name",...e})}),s.jsx(m.zG,{})]})}),s.jsx(m.Wi,{control:C.control,name:"billboardId",render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[s.jsx(m.lX,{children:"Billboard"}),(0,s.jsxs)(j.Ph,{disabled:w,onValueChange:e.onChange,value:e.value,defaultValue:e.value,children:[s.jsx(m.NI,{children:s.jsx(j.i4,{children:s.jsx(j.ki,{defaultValue:e.value,placeholder:"Select a billboard"})})}),s.jsx(j.Bw,{children:r.map(e=>s.jsx(j.Ql,{value:e.id,children:e.label},e.id))})]}),s.jsx(m.zG,{})]})})]}),s.jsx(o.z,{disabled:w,className:"ml-auto",children:q})]})}),s.jsx(l.Z,{})]})}},94049:(e,r,t)=>{"use strict";t.d(r,{Bw:()=>m,Ph:()=>l,Ql:()=>h,i4:()=>c,ki:()=>n});var s=t(97247),a=t(28964),i=t(2095),o=t(54576),d=t(25008);let l=o.fC;o.ZA;let n=o.B4,c=a.forwardRef(({className:e,children:r,...t},a)=>(0,s.jsxs)(o.xz,{ref:a,className:(0,d.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[r,s.jsx(o.JO,{asChild:!0,children:s.jsx(i.jnn,{className:"h-4 w-4 opacity-50"})})]}));c.displayName=o.xz.displayName;let u=a.forwardRef(({className:e,...r},t)=>s.jsx(o.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:s.jsx(i.g8U,{})}));u.displayName=o.u_.displayName;let p=a.forwardRef(({className:e,...r},t)=>s.jsx(o.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:s.jsx(i.v4q,{})}));p.displayName=o.$G.displayName;let m=a.forwardRef(({className:e,children:r,position:t="popper",...a},i)=>s.jsx(o.h_,{children:(0,s.jsxs)(o.VY,{ref:i,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...a,children:[s.jsx(u,{}),s.jsx(o.l_,{className:(0,d.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),s.jsx(p,{})]})}));m.displayName=o.VY.displayName,a.forwardRef(({className:e,...r},t)=>s.jsx(o.__,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",e),...r})).displayName=o.__.displayName;let h=a.forwardRef(({className:e,children:r,...t},a)=>(0,s.jsxs)(o.ck,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(o.wU,{children:s.jsx(i.nQG,{className:"h-4 w-4"})})}),s.jsx(o.eT,{children:r})]}));h.displayName=o.ck.displayName,a.forwardRef(({className:e,...r},t)=>s.jsx(o.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...r})).displayName=o.Z0.displayName},7082:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(26323).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},54844:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(72051);let a=(0,t(45347).createProxy)(String.raw`/Users/manishkumarsharma/Documents/projects/jewellery/admin/components/category-form.tsx#default`);var i=t(71228);let o=async({params:e})=>{let r=await i.N.category.findUnique({where:{id:e.categoryId}}),t=await i.N.billboard.findMany({where:{storeId:e.storeId}});return s.jsx("div",{className:"flex-col",children:s.jsx("div",{className:"flex-1 space-y-4 p-8 pt-6",children:s.jsx(a,{billboards:t,initialData:r})})})}},89629:(e,r,t)=>{"use strict";t.d(r,{f:()=>n});var s=t(28964),a=t(22251),i=t(97247),o="horizontal",d=["horizontal","vertical"],l=s.forwardRef((e,r)=>{let{decorative:t,orientation:s=o,...l}=e,n=d.includes(s)?s:o;return(0,i.jsx)(a.WV.div,{"data-orientation":n,...t?{role:"none"}:{"aria-orientation":"vertical"===n?n:void 0,role:"separator"},...l,ref:r})});l.displayName="Separator";var n=l}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[379,988,614,916,564,199,840,127,108],()=>t(49696));module.exports=s})();